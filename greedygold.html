<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #4689cc; -webkit-text-stroke: #4689cc}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #8cd3fe; -webkit-text-stroke: #8cd3fe}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #c27e65; -webkit-text-stroke: #c27e65}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #36c0a0; -webkit-text-stroke: #36c0a0}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca; min-height: 14.0px}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #4f7b3d; -webkit-text-stroke: #4f7b3d}
    span.s1 {font-kerning: none; background-color: #171717}
    span.s2 {font-kerning: none; color: #8cd3fe; background-color: #171717; -webkit-text-stroke: 0px #8cd3fe}
    span.s3 {font-kerning: none; color: #6d6d6d; background-color: #171717; -webkit-text-stroke: 0px #6d6d6d}
    span.s4 {font-kerning: none; color: #cacaca; background-color: #171717; -webkit-text-stroke: 0px #cacaca}
    span.s5 {font-kerning: none; color: #c27e65; background-color: #171717; -webkit-text-stroke: 0px #c27e65}
    span.s6 {font-kerning: none; color: #4689cc; background-color: #171717; -webkit-text-stroke: 0px #4689cc}
    span.s7 {font-kerning: none; color: #d4d4d4; background-color: #171717; -webkit-text-stroke: 0px #d4d4d4}
    span.s8 {font-kerning: none; color: #a7c598; background-color: #171717; -webkit-text-stroke: 0px #a7c598}
    span.s9 {font-kerning: none; color: #36c0a0; background-color: #171717; -webkit-text-stroke: 0px #36c0a0}
    span.s10 {font-kerning: none}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">html</span><span class="s4"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s5">"en"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s5">"UTF-8"</span><span class="s4"> </span><span class="s3">/&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"</span><span class="s4"> </span><span class="s3">/&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">title</span><span class="s3">&gt;</span><span class="s1">Greedy Gold - Mobile</span><span class="s3">&lt;/</span><span class="s6">title</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.min.js"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.jsdelivr.net/npm/@farcade/game-sdk@latest/dist/index.min.js"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s6">body</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s2">margin:</span><span class="s1"> </span><span class="s8">0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s8">0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s2">background:</span><span class="s1"> #000</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s2">overflow:</span><span class="s1"> </span><span class="s5">hidden</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">touch-action:</span><span class="s4"> </span><span class="s5">manipulation</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s6">canvas</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">block</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s2">margin:</span><span class="s1"> </span><span class="s5">auto</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s6">const</span><span class="s1"> config </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>type</span><span class="s7">:</span><span class="s1"> </span><span class="s9">Phaser</span><span class="s7">.</span><span class="s9">AUTO</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>width</span><span class="s7">:</span><span class="s1"> </span><span class="s8">540</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>height</span><span class="s7">:</span><span class="s1"> </span><span class="s8">960</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>physics</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s6">default</span><span class="s7">:</span><span class="s1"> </span><span class="s5">"arcade"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>arcade</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>gravity</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> y</span><span class="s7">:</span><span class="s1"> </span><span class="s8">0</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>debug</span><span class="s7">:</span><span class="s1"> </span><span class="s6">false</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>scene</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> preload</span><span class="s7">,</span><span class="s1"> create</span><span class="s7">,</span><span class="s1"> update </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>scale</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>mode</span><span class="s7">:</span><span class="s1"> </span><span class="s9">Phaser</span><span class="s7">.</span><span class="s9">Scale</span><span class="s7">.</span><span class="s9">FIT</span><span class="s7">,</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">          </span>autoCenter</span><span class="s7">:</span><span class="s4"> </span><span class="s1">Phaser</span><span class="s7">.</span><span class="s1">Scale</span><span class="s7">.</span><span class="s1">CENTER_BOTH</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s6">const</span><span class="s1"> game </span><span class="s7">=</span><span class="s1"> </span><span class="s6">new</span><span class="s1"> </span><span class="s9">Phaser</span><span class="s7">.</span><span class="s9">Game</span><span class="s7">(</span><span class="s1">config</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s6">let</span><span class="s1"> miner</span><span class="s7">,</span><span class="s1"> rope</span><span class="s7">,</span><span class="s1"> hook</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s6">let</span><span class="s1"> golds </span><span class="s7">=</span><span class="s1"> </span><span class="s7">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s6">let</span><span class="s1"> score </span><span class="s7">=</span><span class="s1"> </span><span class="s8">0</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>scoreText</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s6">let</span><span class="s1"> angle </span><span class="s7">=</span><span class="s1"> </span><span class="s8">0</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>direction </span><span class="s7">=</span><span class="s1"> </span><span class="s8">1</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s6">let</span><span class="s1"> isDropping </span><span class="s7">=</span><span class="s1"> </span><span class="s6">false</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>isGameOver </span><span class="s7">=</span><span class="s1"> </span><span class="s6">false</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s6">let</span><span class="s1"> hookSpeed </span><span class="s7">=</span><span class="s1"> </span><span class="s8">6</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s6">let</span><span class="s1"> hookVelocityX </span><span class="s7">=</span><span class="s1"> </span><span class="s8">0</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>hookVelocityY </span><span class="s7">=</span><span class="s1"> </span><span class="s8">0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s6">const</span><span class="s1"> originalHookY </span><span class="s7">=</span><span class="s1"> </span><span class="s8">180</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s6">let</span><span class="s1"> dropSound</span><span class="s7">,</span><span class="s1"> grabSound</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s6">function</span><span class="s1"> preload</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">this</span><span class="s7">.</span><span class="s1">load</span><span class="s7">.</span><span class="s1">image</span><span class="s7">(</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">"background"</span><span class="s7">,</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">"https://lqy3lriiybxcejon.public.blob.vercel-storage.com/2da6c75e-12b9-4885-968a-321d35cbfa9d/background1-LUh4GcUQpIcxUOGG4WJ4gkUl0XwrIJ.png?rrYT"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">this</span><span class="s7">.</span><span class="s1">load</span><span class="s7">.</span><span class="s1">image</span><span class="s7">(</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">"miner"</span><span class="s7">,</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">"https://lqy3lriiybxcejon.public.blob.vercel-storage.com/2da6c75e-12b9-4885-968a-321d35cbfa9d/miner1-GhL7uh9wT1WjCMadQKjKThX51kOZU3.png?Z6YJ"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">this</span><span class="s7">.</span><span class="s1">load</span><span class="s7">.</span><span class="s1">image</span><span class="s7">(</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">"rope"</span><span class="s7">,</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">"https://lqy3lriiybxcejon.public.blob.vercel-storage.com/2da6c75e-12b9-4885-968a-321d35cbfa9d/rope-5inqWnUnXm62wuuOf01JQyhCFuSU8M.png?2Uk1"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">this</span><span class="s7">.</span><span class="s1">load</span><span class="s7">.</span><span class="s1">image</span><span class="s7">(</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">"hook"</span><span class="s7">,</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">"https://lqy3lriiybxcejon.public.blob.vercel-storage.com/2da6c75e-12b9-4885-968a-321d35cbfa9d/hook-uJ8myh0IKVYFJrf4uWQhY3yUoT5Hl1.png?7I2R"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">this</span><span class="s7">.</span><span class="s1">load</span><span class="s7">.</span><span class="s1">image</span><span class="s7">(</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">"gold1"</span><span class="s7">,</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">"https://lqy3lriiybxcejon.public.blob.vercel-storage.com/2da6c75e-12b9-4885-968a-321d35cbfa9d/gold1-sn26zj1DeXOohsD4ejmhH9rTDx44C3.png?3CXY"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">this</span><span class="s7">.</span><span class="s1">load</span><span class="s7">.</span><span class="s1">image</span><span class="s7">(</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">"gold2"</span><span class="s7">,</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">"https://lqy3lriiybxcejon.public.blob.vercel-storage.com/2da6c75e-12b9-4885-968a-321d35cbfa9d/gold2-8tI3OBNNUXthWkMnQ6a25x17GzlVC4.png?0TO3"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">this</span><span class="s7">.</span><span class="s1">load</span><span class="s7">.</span><span class="s1">image</span><span class="s7">(</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">"gold3"</span><span class="s7">,</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">"https://lqy3lriiybxcejon.public.blob.vercel-storage.com/2da6c75e-12b9-4885-968a-321d35cbfa9d/gold3-KD76qqTYCZitMC9tE0kl9atZVf82ym.png?HU2x"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">this</span><span class="s7">.</span><span class="s1">load</span><span class="s7">.</span><span class="s1">audio</span><span class="s7">(</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">"drop"</span><span class="s7">,</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">"https://lqy3lriiybxcejon.public.blob.vercel-storage.com/2da6c75e-12b9-4885-968a-321d35cbfa9d/drop-KRqj2JHrlZUmTRfU0fYZTzIkrvRckS.mp3?yxGp"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">this</span><span class="s7">.</span><span class="s1">load</span><span class="s7">.</span><span class="s1">audio</span><span class="s7">(</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">"grab"</span><span class="s7">,</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">"https://lqy3lriiybxcejon.public.blob.vercel-storage.com/2da6c75e-12b9-4885-968a-321d35cbfa9d/grab-PMzAdQJ1OSxjVHpqBP3RchDf8NN1VE.mp3?iYje"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s6">function</span><span class="s1"> create</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">this</span><span class="s7">.</span><span class="s1">add</span><span class="s7">.</span><span class="s1">image</span><span class="s7">(</span><span class="s1">config</span><span class="s7">.</span><span class="s1">width </span><span class="s7">/</span><span class="s1"> </span><span class="s8">2</span><span class="s7">,</span><span class="s1"> config</span><span class="s7">.</span><span class="s1">height </span><span class="s7">/</span><span class="s1"> </span><span class="s8">2</span><span class="s7">,</span><span class="s1"> </span><span class="s5">"background"</span><span class="s7">).</span><span class="s1">setDisplaySize</span><span class="s7">(</span><span class="s1">config</span><span class="s7">.</span><span class="s1">width</span><span class="s7">,</span><span class="s1"> config</span><span class="s7">.</span><span class="s1">height</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>miner </span><span class="s7">=</span><span class="s1"> </span><span class="s6">this</span><span class="s7">.</span><span class="s1">add</span><span class="s7">.</span><span class="s1">image</span><span class="s7">(</span><span class="s1">config</span><span class="s7">.</span><span class="s1">width </span><span class="s7">/</span><span class="s1"> </span><span class="s8">2</span><span class="s7">,</span><span class="s1"> </span><span class="s8">100</span><span class="s7">,</span><span class="s1"> </span><span class="s5">"miner"</span><span class="s7">).</span><span class="s1">setScale</span><span class="s7">(</span><span class="s8">0.5</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>rope </span><span class="s7">=</span><span class="s1"> </span><span class="s6">this</span><span class="s7">.</span><span class="s1">add</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">.</span><span class="s1">image</span><span class="s7">(</span><span class="s1">config</span><span class="s7">.</span><span class="s1">width </span><span class="s7">/</span><span class="s1"> </span><span class="s8">2</span><span class="s7">,</span><span class="s1"> </span><span class="s8">150</span><span class="s7">,</span><span class="s1"> </span><span class="s5">"rope"</span><span class="s7">)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">.</span><span class="s1">setOrigin</span><span class="s7">(</span><span class="s8">0.5</span><span class="s7">,</span><span class="s1"> </span><span class="s8">0</span><span class="s7">)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">.</span><span class="s1">setScale</span><span class="s7">(</span><span class="s8">1</span><span class="s7">,</span><span class="s1"> </span><span class="s8">1</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>hook </span><span class="s7">=</span><span class="s1"> </span><span class="s6">this</span><span class="s7">.</span><span class="s1">physics</span><span class="s7">.</span><span class="s1">add</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">.</span><span class="s1">image</span><span class="s7">(</span><span class="s1">config</span><span class="s7">.</span><span class="s1">width </span><span class="s7">/</span><span class="s1"> </span><span class="s8">2</span><span class="s7">,</span><span class="s1"> originalHookY</span><span class="s7">,</span><span class="s1"> </span><span class="s5">"hook"</span><span class="s7">)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">.</span><span class="s1">setDepth</span><span class="s7">(</span><span class="s8">1</span><span class="s7">)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">.</span><span class="s1">setScale</span><span class="s7">(</span><span class="s8">0.3</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>dropSound </span><span class="s7">=</span><span class="s1"> </span><span class="s6">this</span><span class="s7">.</span><span class="s1">sound</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s5">"drop"</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>grabSound </span><span class="s7">=</span><span class="s1"> </span><span class="s6">this</span><span class="s7">.</span><span class="s1">sound</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s5">"grab"</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>scoreText </span><span class="s7">=</span><span class="s1"> </span><span class="s6">this</span><span class="s7">.</span><span class="s1">add</span><span class="s7">.</span><span class="s1">text</span><span class="s7">(</span><span class="s8">20</span><span class="s7">,</span><span class="s1"> </span><span class="s8">20</span><span class="s7">,</span><span class="s1"> </span><span class="s5">"Score: 0"</span><span class="s7">,</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> font</span><span class="s7">:</span><span class="s1"> </span><span class="s5">"28px Arial"</span><span class="s7">,</span><span class="s1"> fill</span><span class="s7">:</span><span class="s1"> </span><span class="s5">"#fff"</span><span class="s1"> </span><span class="s7">});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">for</span><span class="s1"> </span><span class="s7">(</span><span class="s6">let</span><span class="s1"> i </span><span class="s7">=</span><span class="s1"> </span><span class="s8">0</span><span class="s7">;</span><span class="s1"> i </span><span class="s7">&lt;</span><span class="s1"> </span><span class="s8">15</span><span class="s7">;</span><span class="s1"> i</span><span class="s7">++)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s6">const</span><span class="s1"> type </span><span class="s7">=</span><span class="s1"> </span><span class="s9">Phaser</span><span class="s7">.</span><span class="s9">Math</span><span class="s7">.</span><span class="s9">Between</span><span class="s7">(</span><span class="s8">1</span><span class="s7">,</span><span class="s1"> </span><span class="s8">3</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s6">const</span><span class="s1"> key </span><span class="s7">=</span><span class="s1"> </span><span class="s5">"gold"</span><span class="s1"> </span><span class="s7">+</span><span class="s1"> type</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s6">const</span><span class="s1"> value </span><span class="s7">=</span><span class="s1"> type </span><span class="s7">===</span><span class="s1"> </span><span class="s8">1</span><span class="s1"> </span><span class="s7">?</span><span class="s1"> </span><span class="s8">100</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> type </span><span class="s7">===</span><span class="s1"> </span><span class="s8">2</span><span class="s1"> </span><span class="s7">?</span><span class="s1"> </span><span class="s8">300</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> </span><span class="s8">500</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s6">const</span><span class="s1"> gold </span><span class="s7">=</span><span class="s1"> </span><span class="s6">this</span><span class="s7">.</span><span class="s1">physics</span><span class="s7">.</span><span class="s1">add</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">.</span><span class="s1">image</span><span class="s7">(</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">              </span></span><span class="s9">Phaser</span><span class="s7">.</span><span class="s9">Math</span><span class="s7">.</span><span class="s9">Between</span><span class="s7">(</span><span class="s8">50</span><span class="s7">,</span><span class="s1"> config</span><span class="s7">.</span><span class="s1">width </span><span class="s7">-</span><span class="s1"> </span><span class="s8">50</span><span class="s7">),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">              </span></span><span class="s9">Phaser</span><span class="s7">.</span><span class="s9">Math</span><span class="s7">.</span><span class="s9">Between</span><span class="s7">(</span><span class="s1">config</span><span class="s7">.</span><span class="s1">height </span><span class="s7">*</span><span class="s1"> </span><span class="s8">0.3</span><span class="s7">,</span><span class="s1"> config</span><span class="s7">.</span><span class="s1">height </span><span class="s7">*</span><span class="s1"> </span><span class="s8">0.95</span><span class="s7">),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">              </span>key</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">.</span><span class="s1">setScale</span><span class="s7">(</span><span class="s8">0.6</span><span class="s7">)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">.</span><span class="s1">setImmovable</span><span class="s7">(</span><span class="s6">true</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>gold</span><span class="s7">.</span><span class="s1">goldValue </span><span class="s7">=</span><span class="s1"> value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>golds</span><span class="s7">.</span><span class="s1">push</span><span class="s7">(</span><span class="s1">gold</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">this</span><span class="s7">.</span><span class="s1">input</span><span class="s7">.</span><span class="s1">on</span><span class="s7">(</span><span class="s5">"pointerdown"</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s6">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">isDropping </span><span class="s7">&amp;&amp;</span><span class="s1"> </span><span class="s7">!</span><span class="s1">isGameOver</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>isDropping </span><span class="s7">=</span><span class="s1"> </span><span class="s6">true</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>dropSound</span><span class="s7">.</span><span class="s1">play</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>window</span><span class="s7">.</span><span class="s9">FarcadeSDK</span><span class="s7">.</span><span class="s1">singlePlayer</span><span class="s7">.</span><span class="s1">actions</span><span class="s7">.</span><span class="s1">hapticFeedback</span><span class="s7">();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s6">const</span><span class="s1"> rad </span><span class="s7">=</span><span class="s1"> </span><span class="s9">Phaser</span><span class="s7">.</span><span class="s9">Math</span><span class="s7">.</span><span class="s9">DegToRad</span><span class="s7">(</span><span class="s1">angle</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>hookVelocityX </span><span class="s7">=</span><span class="s1"> hookSpeed </span><span class="s7">*</span><span class="s1"> </span><span class="s9">Math</span><span class="s7">.</span><span class="s1">sin</span><span class="s7">(</span><span class="s1">rad</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>hookVelocityY </span><span class="s7">=</span><span class="s1"> hookSpeed </span><span class="s7">*</span><span class="s1"> </span><span class="s9">Math</span><span class="s7">.</span><span class="s1">cos</span><span class="s7">(</span><span class="s1">rad</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Gửi sự kiện ready</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s9">FarcadeSDK</span><span class="s7">.</span><span class="s1">singlePlayer</span><span class="s7">.</span><span class="s1">actions</span><span class="s7">.</span><span class="s1">ready</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s6">function</span><span class="s1"> update</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">isGameOver</span><span class="s7">)</span><span class="s1"> </span><span class="s6">return</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">isDropping</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>angle </span><span class="s7">+=</span><span class="s1"> </span><span class="s8">0.5</span><span class="s1"> </span><span class="s7">*</span><span class="s1"> direction</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s6">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">angle </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s8">60</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> angle </span><span class="s7">&lt;</span><span class="s1"> </span><span class="s7">-</span><span class="s8">60</span><span class="s7">)</span><span class="s1"> direction </span><span class="s7">*=</span><span class="s1"> </span><span class="s7">-</span><span class="s8">1</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s6">const</span><span class="s1"> rad </span><span class="s7">=</span><span class="s1"> </span><span class="s9">Phaser</span><span class="s7">.</span><span class="s9">Math</span><span class="s7">.</span><span class="s9">DegToRad</span><span class="s7">(</span><span class="s1">angle</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>hook</span><span class="s7">.</span><span class="s1">x </span><span class="s7">=</span><span class="s1"> config</span><span class="s7">.</span><span class="s1">width </span><span class="s7">/</span><span class="s1"> </span><span class="s8">2</span><span class="s1"> </span><span class="s7">+</span><span class="s1"> </span><span class="s8">100</span><span class="s1"> </span><span class="s7">*</span><span class="s1"> </span><span class="s9">Math</span><span class="s7">.</span><span class="s1">sin</span><span class="s7">(</span><span class="s1">rad</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>hook</span><span class="s7">.</span><span class="s1">y </span><span class="s7">=</span><span class="s1"> originalHookY </span><span class="s7">+</span><span class="s1"> </span><span class="s8">100</span><span class="s1"> </span><span class="s7">*</span><span class="s1"> </span><span class="s9">Math</span><span class="s7">.</span><span class="s1">cos</span><span class="s7">(</span><span class="s1">rad</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>updateRope</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span><span class="s1"> </span><span class="s6">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>hook</span><span class="s7">.</span><span class="s1">x </span><span class="s7">+=</span><span class="s1"> hookVelocityX</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>hook</span><span class="s7">.</span><span class="s1">y </span><span class="s7">+=</span><span class="s1"> hookVelocityY</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>updateRope</span><span class="s7">();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s6">for</span><span class="s1"> </span><span class="s7">(</span><span class="s6">let</span><span class="s1"> gold </span><span class="s6">of</span><span class="s1"> golds</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s6">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">gold </span><span class="s7">&amp;&amp;</span><span class="s1"> </span><span class="s9">Phaser</span><span class="s7">.</span><span class="s9">Math</span><span class="s7">.</span><span class="s9">Distance</span><span class="s7">.</span><span class="s9">Between</span><span class="s7">(</span><span class="s1">hook</span><span class="s7">.</span><span class="s1">x</span><span class="s7">,</span><span class="s1"> hook</span><span class="s7">.</span><span class="s1">y</span><span class="s7">,</span><span class="s1"> gold</span><span class="s7">.</span><span class="s1">x</span><span class="s7">,</span><span class="s1"> gold</span><span class="s7">.</span><span class="s1">y</span><span class="s7">)</span><span class="s1"> </span><span class="s7">&lt;</span><span class="s1"> </span><span class="s8">40</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">              </span>grabSound</span><span class="s7">.</span><span class="s1">play</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">              </span>window</span><span class="s7">.</span><span class="s9">FarcadeSDK</span><span class="s7">.</span><span class="s1">singlePlayer</span><span class="s7">.</span><span class="s1">actions</span><span class="s7">.</span><span class="s1">hapticFeedback</span><span class="s7">();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">              </span>score </span><span class="s7">+=</span><span class="s1"> gold</span><span class="s7">.</span><span class="s1">goldValue</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">              </span>scoreText</span><span class="s7">.</span><span class="s1">setText</span><span class="s7">(</span><span class="s5">"Score: "</span><span class="s1"> </span><span class="s7">+</span><span class="s1"> score</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">              </span>gold</span><span class="s7">.</span><span class="s1">destroy</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">              </span>golds</span><span class="s7">.</span><span class="s1">splice</span><span class="s7">(</span><span class="s1">golds</span><span class="s7">.</span><span class="s1">indexOf</span><span class="s7">(</span><span class="s1">gold</span><span class="s7">),</span><span class="s1"> </span><span class="s8">1</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">              </span>resetHook</span><span class="s7">();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">              </span></span><span class="s6">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">golds</span><span class="s7">.</span><span class="s1">length </span><span class="s7">===</span><span class="s1"> </span><span class="s8">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>sceneNextLevel</span><span class="s7">.</span><span class="s1">call</span><span class="s7">(</span><span class="s6">this</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">              </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">              </span></span><span class="s6">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s6">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">hook</span><span class="s7">.</span><span class="s1">y </span><span class="s7">&gt;</span><span class="s1"> config</span><span class="s7">.</span><span class="s1">height </span><span class="s7">-</span><span class="s1"> </span><span class="s8">20</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> hook</span><span class="s7">.</span><span class="s1">x </span><span class="s7">&lt;</span><span class="s1"> </span><span class="s8">0</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> hook</span><span class="s7">.</span><span class="s1">x </span><span class="s7">&gt;</span><span class="s1"> config</span><span class="s7">.</span><span class="s1">width</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>gameOver</span><span class="s7">(</span><span class="s6">this</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s6">function</span><span class="s1"> updateRope</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">const</span><span class="s1"> dx </span><span class="s7">=</span><span class="s1"> hook</span><span class="s7">.</span><span class="s1">x </span><span class="s7">-</span><span class="s1"> miner</span><span class="s7">.</span><span class="s1">x</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">const</span><span class="s1"> dy </span><span class="s7">=</span><span class="s1"> hook</span><span class="s7">.</span><span class="s1">y </span><span class="s7">-</span><span class="s1"> miner</span><span class="s7">.</span><span class="s1">y</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">const</span><span class="s1"> length </span><span class="s7">=</span><span class="s1"> </span><span class="s9">Math</span><span class="s7">.</span><span class="s1">sqrt</span><span class="s7">(</span><span class="s1">dx </span><span class="s7">*</span><span class="s1"> dx </span><span class="s7">+</span><span class="s1"> dy </span><span class="s7">*</span><span class="s1"> dy</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">const</span><span class="s1"> angleDeg </span><span class="s7">=</span><span class="s1"> </span><span class="s9">Phaser</span><span class="s7">.</span><span class="s9">Math</span><span class="s7">.</span><span class="s9">RadToDeg</span><span class="s7">(</span><span class="s9">Math</span><span class="s7">.</span><span class="s1">atan2</span><span class="s7">(</span><span class="s1">dy</span><span class="s7">,</span><span class="s1"> dx</span><span class="s7">))</span><span class="s1"> </span><span class="s7">-</span><span class="s1"> </span><span class="s8">90</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>rope</span><span class="s7">.</span><span class="s1">setScale</span><span class="s7">(</span><span class="s8">1</span><span class="s7">,</span><span class="s1"> length </span><span class="s7">/</span><span class="s1"> rope</span><span class="s7">.</span><span class="s1">height</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>rope</span><span class="s7">.</span><span class="s1">angle </span><span class="s7">=</span><span class="s1"> angleDeg</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>rope</span><span class="s7">.</span><span class="s1">x </span><span class="s7">=</span><span class="s1"> miner</span><span class="s7">.</span><span class="s1">x</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>rope</span><span class="s7">.</span><span class="s1">y </span><span class="s7">=</span><span class="s1"> miner</span><span class="s7">.</span><span class="s1">y</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>hook</span><span class="s7">.</span><span class="s1">setAngle</span><span class="s7">(</span><span class="s1">angleDeg</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s6">function</span><span class="s1"> resetHook</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>hook</span><span class="s7">.</span><span class="s1">x </span><span class="s7">=</span><span class="s1"> config</span><span class="s7">.</span><span class="s1">width </span><span class="s7">/</span><span class="s1"> </span><span class="s8">2</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>hook</span><span class="s7">.</span><span class="s1">y </span><span class="s7">=</span><span class="s1"> originalHookY</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>isDropping </span><span class="s7">=</span><span class="s1"> </span><span class="s6">false</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>updateRope</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s6">function</span><span class="s1"> gameOver</span><span class="s7">(</span><span class="s1">scene</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>isGameOver </span><span class="s7">=</span><span class="s1"> </span><span class="s6">true</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>scene</span><span class="s7">.</span><span class="s1">add</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">.</span><span class="s1">text</span><span class="s7">(</span><span class="s1">config</span><span class="s7">.</span><span class="s1">width </span><span class="s7">/</span><span class="s1"> </span><span class="s8">2</span><span class="s7">,</span><span class="s1"> config</span><span class="s7">.</span><span class="s1">height </span><span class="s7">/</span><span class="s1"> </span><span class="s8">2</span><span class="s7">,</span><span class="s1"> </span><span class="s5">"Game Over"</span><span class="s7">,</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>font</span><span class="s7">:</span><span class="s1"> </span><span class="s5">"40px Arial"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>fill</span><span class="s7">:</span><span class="s1"> </span><span class="s5">"#ff0000"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">})</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">.</span><span class="s1">setOrigin</span><span class="s7">(</span><span class="s8">0.5</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s9">FarcadeSDK</span><span class="s7">.</span><span class="s1">singlePlayer</span><span class="s7">.</span><span class="s1">actions</span><span class="s7">.</span><span class="s1">gameOver</span><span class="s7">({</span><span class="s1"> score</span><span class="s7">:</span><span class="s1"> score </span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s6">function</span><span class="s1"> sceneNextLevel</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">const</span><span class="s1"> levelText </span><span class="s7">=</span><span class="s1"> </span><span class="s6">this</span><span class="s7">.</span><span class="s1">add</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">.</span><span class="s1">text</span><span class="s7">(</span><span class="s1">config</span><span class="s7">.</span><span class="s1">width </span><span class="s7">/</span><span class="s1"> </span><span class="s8">2</span><span class="s7">,</span><span class="s1"> config</span><span class="s7">.</span><span class="s1">height </span><span class="s7">/</span><span class="s1"> </span><span class="s8">2</span><span class="s7">,</span><span class="s1"> </span><span class="s5">"Next Level!"</span><span class="s7">,</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>font</span><span class="s7">:</span><span class="s1"> </span><span class="s5">"36px Arial"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>fill</span><span class="s7">:</span><span class="s1"> </span><span class="s5">"#00ff00"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">})</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">.</span><span class="s1">setOrigin</span><span class="s7">(</span><span class="s8">0.5</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">this</span><span class="s7">.</span><span class="s1">time</span><span class="s7">.</span><span class="s1">delayedCall</span><span class="s7">(</span><span class="s8">1000</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>levelText</span><span class="s7">.</span><span class="s1">destroy</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s6">for</span><span class="s1"> </span><span class="s7">(</span><span class="s6">let</span><span class="s1"> i </span><span class="s7">=</span><span class="s1"> </span><span class="s8">0</span><span class="s7">;</span><span class="s1"> i </span><span class="s7">&lt;</span><span class="s1"> </span><span class="s8">15</span><span class="s7">;</span><span class="s1"> i</span><span class="s7">++)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s6">const</span><span class="s1"> type </span><span class="s7">=</span><span class="s1"> </span><span class="s9">Phaser</span><span class="s7">.</span><span class="s9">Math</span><span class="s7">.</span><span class="s9">Between</span><span class="s7">(</span><span class="s8">1</span><span class="s7">,</span><span class="s1"> </span><span class="s8">3</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s6">const</span><span class="s1"> key </span><span class="s7">=</span><span class="s1"> </span><span class="s5">"gold"</span><span class="s1"> </span><span class="s7">+</span><span class="s1"> type</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s6">const</span><span class="s1"> value </span><span class="s7">=</span><span class="s1"> type </span><span class="s7">===</span><span class="s1"> </span><span class="s8">1</span><span class="s1"> </span><span class="s7">?</span><span class="s1"> </span><span class="s8">100</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> type </span><span class="s7">===</span><span class="s1"> </span><span class="s8">2</span><span class="s1"> </span><span class="s7">?</span><span class="s1"> </span><span class="s8">300</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> </span><span class="s8">500</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s6">const</span><span class="s1"> gold </span><span class="s7">=</span><span class="s1"> </span><span class="s6">this</span><span class="s7">.</span><span class="s1">physics</span><span class="s7">.</span><span class="s1">add</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">              </span></span><span class="s7">.</span><span class="s1">image</span><span class="s7">(</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">Phaser</span><span class="s7">.</span><span class="s9">Math</span><span class="s7">.</span><span class="s9">Between</span><span class="s7">(</span><span class="s8">50</span><span class="s7">,</span><span class="s1"> config</span><span class="s7">.</span><span class="s1">width </span><span class="s7">-</span><span class="s1"> </span><span class="s8">50</span><span class="s7">),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">Phaser</span><span class="s7">.</span><span class="s9">Math</span><span class="s7">.</span><span class="s9">Between</span><span class="s7">(</span><span class="s1">config</span><span class="s7">.</span><span class="s1">height </span><span class="s7">*</span><span class="s1"> </span><span class="s8">0.3</span><span class="s7">,</span><span class="s1"> config</span><span class="s7">.</span><span class="s1">height </span><span class="s7">*</span><span class="s1"> </span><span class="s8">0.95</span><span class="s7">),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>key</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">              </span></span><span class="s7">)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">              </span></span><span class="s7">.</span><span class="s1">setScale</span><span class="s7">(</span><span class="s8">0.6</span><span class="s7">)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">              </span></span><span class="s7">.</span><span class="s1">setImmovable</span><span class="s7">(</span><span class="s6">true</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>gold</span><span class="s7">.</span><span class="s1">goldValue </span><span class="s7">=</span><span class="s1"> value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>golds</span><span class="s7">.</span><span class="s1">push</span><span class="s7">(</span><span class="s1">gold</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>isDropping </span><span class="s7">=</span><span class="s1"> </span><span class="s6">false</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>hook</span><span class="s7">.</span><span class="s1">x </span><span class="s7">=</span><span class="s1"> config</span><span class="s7">.</span><span class="s1">width </span><span class="s7">/</span><span class="s1"> </span><span class="s8">2</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>hook</span><span class="s7">.</span><span class="s1">y </span><span class="s7">=</span><span class="s1"> originalHookY</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>updateRope</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">// SDK: Play again</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>window</span><span class="s7">.</span><span class="s9">FarcadeSDK</span><span class="s7">.</span><span class="s1">on</span><span class="s7">(</span><span class="s5">"play_again"</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span>location</span><span class="s7">.</span><span class="s4">reload</span><span class="s7">();</span><span class="s4"> </span><span class="s1">// hoặc resetGame() nếu bạn có</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">// SDK: Mute / Unmute</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>window</span><span class="s7">.</span><span class="s9">FarcadeSDK</span><span class="s7">.</span><span class="s1">on</span><span class="s7">(</span><span class="s5">"toggle_mute"</span><span class="s7">,</span><span class="s1"> </span><span class="s7">(</span><span class="s1">data</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">const</span><span class="s1"> isMuted </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">.</span><span class="s1">isMuted</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>dropSound</span><span class="s7">.</span><span class="s1">setMute</span><span class="s7">(</span><span class="s1">isMuted</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>grabSound</span><span class="s7">.</span><span class="s1">setMute</span><span class="s7">(</span><span class="s1">isMuted</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">});</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
</body>
</html>
